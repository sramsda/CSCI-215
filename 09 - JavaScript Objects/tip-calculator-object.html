<!--

Write a simple tip calculator using Bootstrap and JavaScript. The UI should prompt the user to enter an amount and a tip percentage from a dropdown list. Once the tip percentage is chosen the tip amount and grand total is calculated and displayed.

The solution should include the following elements:

Use Bootstrap's grid for layout
Use input field to receive the number
Use a select list for the tip percentages (5%, 10%, or 15%)
Validate that the value from the user is a number. Display a validation error if needed.
Use an event to call a function that performs the main calculations and displays the results
    
-->


<html>
<head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Bootstrap CSS - import bootsrtap library -->
        <link
                href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
                rel="stylesheet"
                integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <title>Tip Calculator</title>
</head>
<body onload="init()">

    <div class="container">
        <div class="row">
            <div class="col-3"></div>
            <div class="col-6">
                <div class="card mt-5" style = "background-color: #efefef;">
                    <div class="card-body">

                        <div>
                            <h5 class="card-title"> Tip Calculator</h5> 
                        </div>

                        <div>
                            <p class="card-text"> Enter price </p> 
                        </div>

                        <div class = "input-group mb-3"> 
                            <span class="input-group-text">$</span>
                            <input type="number" class="form-control" id="price"  aria-label="Enter price">
                        </div>

                        <div style="padding-bottom: 20px;">
                            <select class="form-select" id="tip" aria-label="Tip Selection" onchange="calculateTip(this)">
                                <option selected>Select Tip Amount </option> 
                                <option value=".05">5%</option>
                                <option value=".10">10%</option>
                                <option value=".15">15%</option>
                            </select>
                        </div>

                        <div>
                            <p class="card-text"> Tip Amount </p> 
                        </div>

                        <div class = "input-group mb-3"> 
                            <span class="input-group-text">$</span>
                            <span id="tipAmount" class="form-control"></span>
                        </div>

                        <div>
                            <p class="card-text"> Grand Total </p> 
                        </div>

                        <div class = "input-group mb-3"> 
                            <span class="input-group-text">$</span>
                            <span id="grandTotal" class="form-control"></span>

                        </div>


                    </div>
                </div>
            </div>
            <div class="col-3"></div>
    </div>

<script>
    const tipCalculatorModel = {
        "amount"    : null, 
        "tipPercent": null, 
        "tipAmount" : null, 
        "grandTotal": null
    };

    function init(){
        tipCalculatorModel.amount     = 0.00;
        tipCalculatorModel.tipPercent = 0.00;
        tipCalculatorModel.tipAmount  = 0.00;
        tipCalculatorModel.grandTotal = 0.00;
    }

    function calculateTip(percent){
        // get the tip amount from the dropdown menu 
        tipCalculatorModel.tipPercent = Number(percent.value); 

        // get the price from the input field 
        tipCalculatorModel.amount = Number(document.getElementById('price').value); 

        // calculate the tip - ensure 2 decimal places
        tipCalculatorModel.tipAmount = Number((tipCalculatorModel.amount * tipCalculatorModel.tipPercent).toFixed(2)); 

        // calculate the grand total - ensure 2 decimal places 
        tipCalculatorModel.grandTotal = Number(tipCalculatorModel.amount + tipCalculatorModel.tipAmount).toFixed(2); 

        // display everything on the UI 
        document.getElementById('tipAmount').innerHTML  = tipCalculatorModel.tipAmount; 
        document.getElementById('grandTotal').innerHTML = tipCalculatorModel.grandTotal; 
    }
</script>
</body>
</html>